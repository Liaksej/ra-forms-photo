(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2777:function(e,t,r){Promise.resolve().then(r.bind(r,8026))},8026:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var a=r(97),l=r(7354),o=r(1065),s=r(3249),i=r(1595),n=r(9634);let d=(0,s.ZP)("input")({clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),c=e=>new Promise((t,r)=>{let a=new FileReader;a.addEventListener("load",e=>{t(e.currentTarget.result)}),a.addEventListener("error",e=>{var t;r(Error(null===(t=e.currentTarget.error)||void 0===t?void 0:t.message))}),a.readAsDataURL(e)}),h=e=>{let{dispatch:t}=e,r=(0,i.useRef)(null),s=async e=>{if(e.target.files&&e.target.files.length>0){let a=Array.from(e.target.files);await Promise.all(a.map(e=>c(e))).then(e=>{e.forEach(e=>{t({type:"addPhoto",payload:{id:(0,n.Z)(),src:e}})})}),r.current&&(r.current.value="")}};return(0,a.jsx)("div",{className:"flex justify-center p-10 pb-5",children:(0,a.jsxs)(l.Z,{className:"text-center",component:"label",variant:"contained",size:"large",startIcon:(0,a.jsx)(o.Z,{}),children:["Upload file",(0,a.jsx)(d,{type:"file",onChange:s,multiple:!0})]})})};var p=r(850),u=r(886),f=r(8809);let x=(0,s.ZP)(p.Z)(e=>{let{theme:t}=e;return{...t.typography.body2,textAlign:"center",color:t.palette.text.secondary,height:60,lineHeight:"60px"}}),m=e=>{let{photo:t,dispatch:r}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.Z,{className:"absolute right-[-1.3rem] top-[-1.2rem]","aria-label":"delete",onClick:e=>{e.preventDefault(),r({type:"deletePhoto",payload:{id:t.id}})},children:(0,a.jsx)(f.Z,{color:"disabled"})}),(0,a.jsx)(x,{elevation:2,className:"w-fit h-fit",children:(0,a.jsx)("img",{src:t.src,alt:t.id,width:"300"})})]})},g=e=>{let{photos:t,dispatch:r}=e;return(0,a.jsx)("div",{className:"p-10 flex gap-5 justify-center flex-wrap",children:!!t&&t.length>0&&t.map(e=>(0,a.jsx)(m,{photo:e,dispatch:r},e.id))})},v={addPhoto:"addPhoto",deletePhoto:"deletePhoto"};function j(e,t){switch(t.type){case v.addPhoto:return{...e,photos:[...e.photos,t.payload]};case v.deletePhoto:return{...e,photos:e.photos.filter(e=>e.id!==t.payload.id)};default:return e}}function y(){let[e,t]=(0,i.useReducer)(j,{photos:[]});return(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{dispatch:t}),(0,a.jsx)(g,{photos:e.photos,dispatch:t})]})}}},function(e){e.O(0,[434,120,244,744],function(){return e(e.s=2777)}),_N_E=e.O()}]);